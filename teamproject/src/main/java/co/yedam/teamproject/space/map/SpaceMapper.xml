<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.yedam.teamproject.space.map.SpaceMapper">
	<select id="spaceSelectList"
		resultType="co.yedam.teamproject.space.service.SpaceVO">
		SELECT * FROM SPACE
			<if test="spaceCity !=null">where space_city=#{spaceCity}</if>
			<if test="spaceType !=null">where space_type=#{spaceType}</if>
			<if test="spaceName !=null">where space_name like '%' || #{spaceName}|| '%'</if>
	</select>
	<select id="spaceSelect"
		resultType="co.yedam.teamproject.space.service.SpaceVO">
		SELECT * FROM SPACE WHERE SPACE_NAME=#{spaceName}
	</select>
	<insert id="spaceInsert"
		parameterType="co.yedam.teamproject.space.service.SpaceVO">
		INSERT INTO SPACE
		(SPACE_NAME,SPACE_PRICE,SPACE_CITY,SPACE_ADDRESS,SPACE_IMAGE_MAIN,SPACE_CONTENT,SPACE_START_DATE,SPACE_END_DATE,MEMBER_ID,SPACE_IMAGE_SUB1,SPACE_IMAGE_SUB2,space_lat,space_lng,space_type)
		VALUES(#{spaceName},#{spacePrice},#{spaceCity},#{spaceAddress},#{spaceImageMain},#{spaceContent},#{spaceStartDate},#{spaceEndDate},#{memberId},#{spaceImageSub1},#{spaceImageSub2},#{spaceLat},#{spaceLng},#{spaceType})
	</insert>
	<update id="spaceUpdate"
		parameterType="co.yedam.teamproject.space.service.SpaceVO">
		UPDATE SPACE
		<set>
			<if test="spaceName != null">SPACE_NAME=#{spaceName}</if>
			<if test="spacePrice !==0">SPACE_PRICE=#{spacePrice}</if>
			<if test="spaceCity !==null">SPACE_CITY=#{spaceCity}</if>
			<if test="spaceAddress !==null">SPACE_ADDRESS=#{spaceAddress}</if>
			<if test="spaceImageMain !==null">SPACE_IMAGE_MAIN=#{spaceImageMain}</if>
			<if test="spaceContent !==null">SPACE_CONTENT=#{spaceContent}</if>
			<if test="spaceStartDate !==null">SPACE_START_DATE=#{spaceStartDate}</if>
			<if test="spaceEndDate !==null">SPACE_END_DATE=#{spaceEndDate}</if>
			<if test="spacePrice !==null">SPACE_PRICE=#{spacePrice}</if>
			<if test="spaceImageSub1 !==null">SPACE_IMAGE_SUB1=#{spaceImageSub1}</if>
			<if test="spaceImageSub2 !==null">SPACE_IMAGE_SUB2=#{spaceImageSub2}</if>
			<if test="spaceLat !==null">SPACE_lat=#{spaceLat}</if>
			<if test="spaceLng !==null">SPACE_lng=#{spaceLng}</if>
			<if test="spaceType !==null">SPACE_type=#{spaceType}</if>
		</set>
	</update>
	<delete id="spaceDelete"
		parameterType="co.yedam.teamproject.space.service.SpaceVO">
		DELETE * FROM SPACE WHERE SPACE_NAME=#{spaceName}
	</delete>
</mapper>